#  文件系统

##  磁盘的物理结构

磁盘：旋转决定的是内圈的哪一个位置

磁头：摆动决定的是内圈还是外圈

磁头和盘面是没有接触的。

每一面磁盘都有一个磁头。

磁头在扫描磁盘时其实是改变南北极，因为磁盘上都是N ,S.

##  磁盘的存储结构

![image-20230922174738042](E:\markdown\图片\image-20230922174738042.png)

![image-20230922174923870](E:\markdown\图片\image-20230922174923870.png)

![image-20230922175206071](E:\markdown\图片\image-20230922175206071.png)  

##  磁盘的逻辑抽象结构

我们可以把磁盘想象成一个**线性的结构**。

这个线性结构的每一个单元就是一个扇区(sector)。可以把这个线性结构想象为一个数组。

![image-20230922181412898](E:\markdown\图片\image-20230922181412898.png)

这个思维方式其实是分治，其实也就是磁盘的分区。

![](E:\markdown\图片\image-20230922181438398.png)

  

##  inode

![image-20230922200948229](E:\markdown\图片\image-20230922200948229.png)

一个文件一个inode

文件的唯一标识符就是inode

Linux中：ll -i 可以显示inode号

![image-20230922202852733](E:\markdown\图片\image-20230922202852733.png)

创建一个文件操作系统做了什么。

![image-20230922203642909](E:\markdown\图片\image-20230922203642909.png)

删除一个数据，Linux并没有真正的删除数据。

Linux删除的文件可以通过inode来进行恢复。windows也是这样，并不是真正的删除。怕的是一个文件被删除后，频繁被写入。

##   软硬链接

ln -s是创建软连接

ln是创建硬链接

![image-20230922205045340](E:\markdown\图片\image-20230922205045340.png)

本质区别。软连接是一个独立文件，有自己独立的inode和inode编号。硬链接不是一个单独文件，他和目标文件使用的同一个inode

软连接就相当于windows中的快捷方式。

 怎么删除软硬连接。

unlink +文件名就是删除链接

所以说 unlink也可以删除文件！

![image-20230922211319826](E:\markdown\图片\image-20230922211319826.png)

硬链接的作用是用来进行路径切换。

![image-20230922212143573](E:\markdown\图片\image-20230922212143573.png)