##  线程2

##  页表，虚拟到物理的转化

前10个bit位是找到页目录。

中间10个bit位是找到页表。

后12位找到物理内存的page刚好是4kb。

 ![image-20231004142803293](E:\markdown\图片\image-20231004142803293.png)

##  为什么要这么做

![image-20231004143836834](E:\markdown\图片\image-20231004143836834.png)

##  线程的理解

![image-20231004150948648](E:\markdown\图片\image-20231004150948648.png)

##  线程的控制

##  pthread_create线程创建

![image-20231004152322034](E:\markdown\图片\image-20231004152322034.png)

新线程执行函数，主线程继续往后执行。

##  pthread_self()

线程自己获取自己的id。

##  pthread_join()

1.释放线程资源——前提是线程推出了

2.获取线程对应的退出码

等待线程

![image-20231004154545149](E:\markdown\图片\image-20231004154545149.png)

第二个参数叫做线程的退出码。

线程的退出方式 因为return返回的是void*  要想拿到就要用void* *来接收。

  ![image-20231004163457238](E:\markdown\图片\image-20231004163457238.png)

##  pthread_exit退出

为什么不用exit？

exit是退出进程，任何一个线程调用exit，都表示整个进程退出。

![image-20231004163946637](E:\markdown\图片\image-20231004163946637.png)

##  pthread_cancel线程的取消(第三种退出方式)

主线程取消新线程。

![image-20231004164402638](E:\markdown\图片\image-20231004164402638.png)

![image-20231004164546408](E:\markdown\图片\image-20231004164546408.png)

##  线程的tid

tid是一个地址。

![image-20231004212655712](E:\markdown\图片\image-20231004212655712.png)

##  线程的局部存储

在共享变量前面加上__thread就可以了。

##  线程的分离pthread_detach

![image-20231004220454487](E:\markdown\图片\image-20231004220454487.png)

更倾向于让**主线程**分离其他的线程。

让分离的工作交给主线程。

 

![image-20231004222916166](E:\markdown\图片\image-20231004222916166.png)

线程的延后退出

![image-20231004223231066](E:\markdown\图片\image-20231004223231066.png)