##  线程3

##  临界资源

 ![image-20231005144612628](E:\markdown\图片\image-20231005144612628.png)

![image-20231005144604132](E:\markdown\图片\image-20231005144604132.png)

![image-20231005144956612](E:\markdown\图片\image-20231005144956612.png)

##  概念

抢票的逻辑 

![image-20231005150016815](E:\markdown\图片\image-20231005150016815.png)

##  当一个线程被切换了，绝不会有线程会进入临界区。

线程加锁是原子性的，要么加锁，要么不加。



**原因是因为这个线程拿着锁。其他线程拿不到锁，会被阻塞。**

![image-20231005210941044](E:\markdown\图片\image-20231005210941044.png)

![image-20231005215133152](E:\markdown\图片\image-20231005215133152.png)

以上只是加锁的一种方式。

##  死锁

![image-20231005224746208](E:\markdown\图片\image-20231005224746208.png)

线程A申请B锁，线程B申请A锁。

  