##  共享内存+信号量



实质上共享内存实际上映射到了我们进程地址空间的用户空间了。

对每一个进程而言，挂接到自己的上下文的共享内存，属于自己的空间。类似于堆栈空间，可以被用户直接使用。

共享内存是进程间通信最快的。

但是他没有任何访问控制。是可以直接通信的，是不安全的。

共享内存不提供同步和互斥的机制。

##  解决方法1 用管道控制

在共享内存上加上管道的控制，就可以解决访问错乱的问题。

因为管道本身就提供了保护机制

##  临界资源

![image-20230927182116340](E:\markdown\图片\image-20230927182116340.png)

##  原子性  互斥 

![image-20230927182352868](E:\markdown\图片\image-20230927182352868.png)

 

![image-20230927183608834](E:\markdown\图片\image-20230927183608834.png)

信号量：**信号量是一个计数器，这个计数器对应的操作是原子性的。**

![image-20230927184718479](E:\markdown\图片\image-20230927184718479.png)

![image-20230927184957913](E:\markdown\图片\image-20230927184957913.png)